!function t(e,i,a){function n(h,r){if(!i[h]){if(!e[h]){var o="function"==typeof require&&require;if(!r&&o)return o(h,!0);if(s)return s(h,!0);var c=new Error("Cannot find module '"+h+"'");throw c.code="MODULE_NOT_FOUND",c}var d=i[h]={exports:{}};e[h][0].call(d.exports,function(t){var i=e[h][1][t];return n(i?i:t)},d,d.exports,t,e,i,a)}return i[h].exports}for(var s="function"==typeof require&&require,h=0;h<a.length;h++)n(a[h]);return n}({1:[function(t,e,i){"use strict";function a(t){var e=Date.parse(t)-Date.parse(new Date),i=Math.floor(e/1e3%60);return{total:e,seconds:i}}function n(t,e){function i(){var t=a(e);if(s.innerHTML=("0"+t.seconds).slice(-2),t.total<=0&&clearInterval(h),1===t.seconds){var i=document.querySelector(".end-game");TweenLite.to(i,.5,{delay:.5,opacity:1,zIndex:15,ease:Power4.easeOut})}}var n=document.querySelector("#timer"),s=n.querySelector("#seconds");i();var h=setInterval(i,1e3)}var s=t("./Game"),h=(new s,new Date(Date.parse(new Date)+1296e6));n("timer-container",h)},{"./Game":2}],2:[function(t,e,i){"use strict";var a={},n=function(){this.canvas=document.querySelector("#game"),this.ctx=this.canvas.getContext("2d"),this.canvas.width=window.innerWidth,this.canvas.height=window.innerHeight,addEventListener("keydown",function(t){a[t.keyCode]=!0},!1),addEventListener("keyup",function(t){delete a[t.keyCode]},!1),this.displayCollected=document.querySelector("#collection"),this.init(),window.addEventListener("resize",this._onResize.bind(this))};n.prototype.init=function(){this.drawBackground(),this.drawSanta(),this.drawGift(),this.dPad(),this.then=Date.now(),this.santaCharacter={speed:512},this.giftToGet={},this.giftsCollected=0,this.displayCollected.innerHTML=this.giftsCollected,this.santaCharacter.x=this.canvas.width/2,this.santaCharacter.y=this.canvas.height/2,this.setRandomGiftLocation(),this.animate(),this.moving=!1,this.movingX=!1,this.movingY=!1;var t=document.querySelector(".end-game");TweenLite.to(t,.5,{delay:59,onStart:function(){document.querySelector("#finalScore").innerHTML=this.giftsCollected+" lost presents!"}.bind(this)})},n.prototype.drawBackground=function(){this.bgImage=new Image,this.bgImage.src="images/bg-ice-tile-x.jpg"},n.prototype.drawSanta=function(){this.santa=new Image,this.santaFlip=new Image,this.santa.src="images/santa-sleigh.png",this.santaFlip.src="images/santa-sleigh_flip.png"},n.prototype.drawGift=function(){this.gift=new Image,this.gift.src="images/gift.png"},n.prototype.setRandomGiftLocation=function(){this.giftToGet.x=32+Math.random()*(this.canvas.width-64),this.giftToGet.y=32+Math.random()*(this.canvas.height-64)},n.prototype.update=function(t){38 in a&&this.santaCharacter.y>=64&&!this.movingY&&this._moveUp(t),40 in a&&this.santaCharacter.y<=this.canvas.height-128&&!this.movingY&&this._moveDown(t),37 in a&&(this.santa.src="images/santa-sleigh.png",this.santaCharacter.x>=64&&!this.movingX&&this._moveLeft(t)),39 in a&&(this.santa.src="images/santa-sleigh_flip.png",this.santaCharacter.x<=this.canvas.width-128&&!this.movingX&&this._moveRight(t)),this.santaCharacter.x<=this.giftToGet.x+32&&this.giftToGet.x<=this.santaCharacter.x+32&&this.santaCharacter.y<=this.giftToGet.y+32&&this.giftToGet.y<=this.santaCharacter.y+32&&this.giftsCollected>=0&&(this.giftsCollected++,this.displayCollected.innerHTML=this.giftsCollected,this.setRandomGiftLocation())},n.prototype._moveUp=function(t){this.movingY=!0,TweenLite.to(this.santaCharacter,.75,{y:this.santaCharacter.y-this.santaCharacter.speed*t,ease:Power1.easeOut,onComplete:this._hasFinishedMovingY.bind(this)})},n.prototype._moveDown=function(t){this.movingY=!0,TweenLite.to(this.santaCharacter,.75,{y:this.santaCharacter.y+this.santaCharacter.speed*t,ease:Power1.easeOut,onComplete:this._hasFinishedMovingY.bind(this)})},n.prototype._moveLeft=function(t){this.movingX=!0,TweenLite.to(this.santaCharacter,.75,{x:this.santaCharacter.x-this.santaCharacter.speed*t,ease:Power1.easeOut,onComplete:this._hasFinishedMovingX.bind(this)})},n.prototype._moveRight=function(t){this.movingX=!0,TweenLite.to(this.santaCharacter,.75,{x:this.santaCharacter.x+this.santaCharacter.speed*t,ease:Power1.easeOut,onComplete:this._hasFinishedMovingX.bind(this)})},n.prototype._hasFinishedMovingX=function(){this.movingX=!1},n.prototype._hasFinishedMovingY=function(){this.movingY=!1},n.prototype._hasFinishedMoving=function(){this.moving=!1},n.prototype.render=function(){var t=this.ctx.createPattern(this.bgImage,"repeat");this.ctx.fillStyle=t,this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height),this.ctx.drawImage(this.santa,this.santaCharacter.x,this.santaCharacter.y),this.ctx.drawImage(this.gift,this.giftToGet.x,this.giftToGet.y)},n.prototype.animate=function(){var t=Date.now(),e=t-this.then;this.update(e/150),this.render(),this.then=t,requestAnimationFrame(this.animate.bind(this))},n.prototype.dPad=function(){var t=document.querySelector("#top"),e=document.querySelector("#left"),i=document.querySelector("#right");document.querySelector("#down");t.addEventListener("click",function(){this.santaCharacter.y>=0&&TweenLite.to(this.santaCharacter,.25,{y:this.santaCharacter.y-25.5,ease:Power1.easeOut})}.bind(this)),down.addEventListener("click",function(){this.santaCharacter.y<=this.canvas.height-64&&TweenLite.to(this.santaCharacter,.25,{y:this.santaCharacter.y+25.5,ease:Power1.easeOut})}.bind(this)),e.addEventListener("click",function(){this.santaCharacter.x>=0&&(TweenLite.to(this.santaCharacter,.25,{x:this.santaCharacter.x-25.5,ease:Power1.easeOut}),this.santa.src="images/santa-sleigh.png")}.bind(this)),i.addEventListener("click",function(){this.santaCharacter.x<=this.canvas.width-32&&(TweenLite.to(this.santaCharacter,.25,{x:this.santaCharacter.x+25.5,ease:Power1.easeOut}),this.santa.src="images/santa-sleigh_flip.png")}.bind(this))},n.prototype._onResize=function(){this.canvas.width=window.innerWidth,this.canvas.height=window.innerHeight,this.init()},e.exports=n},{}]},{},[1]);
//# sourceMappingURL=main.build.js.map
